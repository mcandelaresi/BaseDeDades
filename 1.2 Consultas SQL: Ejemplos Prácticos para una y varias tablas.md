# 📝 Consultes SQL | Taules Simples i Relacionals 💾  

📢 **Benvingut/da a aquest repositori** dedicat a consultes SQL, on trobaràs exemples pràctics de consultes sobre **una i diverses taules**.  

## 📌 Índex  
1. [📷 Model Relacional](#-model-relacional)  
2. [🛠 Consultes SQL](#-consultes-sql)  
   - [🔹 Consultes en una taula](#-consultes-en-una-taula)  
   - [🔹 Consultes en diverses taules (JOINs)](#-consultes-en-diverses-taules-joins)  

---  

## 📷 Model Relacional  
Aquí pots veure el **model relacional** utilitzat en els exemples d’aquest repositori:  

![Modelo Relacional](https://github.com/mcandelaresi/BaseDeDades/blob/main/db_rrhh_model.png)

## 1.2.3 Consultes sobre una taula amb funcions

1. Llista totes les columnes de la taula empleats.
```sql
SELECT * 
	FROM empleats;
```
3. Llista els cognoms de tots els empleats.
   
5. Llista els cognoms dels empleats eliminant els cognoms que estiguin repetits.
   
7. Llista el nom i els cognoms de tots els empleats.
   
9. Mostra els cognoms i nom dels empleats concatenats amb una coma i un
espai en blanc.

11. Volem una columna on estigui tot en majúscules i l’altre tot en minúscules. Anomena les columnes com a "nom_majuscules" i "nom_minuscules" respectivament.

12. Mostra les 6 primeres lletres dels cognoms dels empleats

13. Quins són els empleats que tenen la longitud del cognoms major a 6? (Mostra els cognoms i la longitud)

14. Substitueix totes les 'a' dels cognoms dels empleats per 'e'. Ordena pel nou valor dels cognoms

15. Mostra tots els empleats que tenen en la segona posició dels cognoms una 'a'. (Sense utilitzar l’operador LIKE, ni REGEXP)

16. Per cada empleat mostra el codi d’empleat, cognom i el salari amb un augment del 15% expressat com un número enter, etiqueta la columna amb el nom "nou_salari".

17. Partint de la consulta anterior, afegeix una nova columna que mostri la diferencia salarial entre el nou salari i l’antic. Etiqueta la columna com a "increment"

18. Fes una consulta on mostri el cognom de l’empleat en majúscules i la longitud del cognom dels empleats on el seu cognom comenci per J, A o M. Ordena els resultats per cognom d’empleat.

19. Fes una consulta on mostri el codi, nom i cognoms dels empleats que van ser contractats un dilluns o un divendres.

20. Mostra l’import de comissió dels empleats. Etiqueta la columna com a "import_comissio" i arrodoneix el valor a 2 decimals. Si un empleat no té assignada comissió fes el que calgui per tal que el resultat de l’operació surti zero en comptes de NULL. Mostra també el cognom i el salari en Ptes despreciant els decimals (truncar)

21. Utilitzant alguna de les funcions de dates, obté el nom, cognom i data de contractació dels empleats contractats durant el 1997.

22. Utilitzant alguna de les funcions de data, mostra tots els empleats que van ser contractats entre els mesos de juny i novembre, independentment de l’any.

23. El nostre departament de recursos humans s’aborreix molt i per justificar el seu sou està elaborant tot d’estadístiques extranyes. Ara volen saber quins empleats varen ser contractats en un dia parell.

24. Mostra el cognom, la data de contractació i el dia de la setmana en el que va començar l’empleat a treballar. Etiqueta la columna com a dia. Ordena els resultats per dia de la setmana.

25. Mostra el codi d’empleat, cognoms i la data de contractació en format AAAAMM. El dia no ens interessa ara en el nostre estudi estadístic. Ordena per aquest nou format de data.

26. Per cada empleat, mostra el cognom, la data de contractació i el número de mesos entre el dia d’avui i la data de contractació. Etiqueta la columna com a "mesos_treballats" i arrodoneix sense decimals. Ordena el resultat segons els mesos treballats de més a menys.

27. Mostra el nom, cognom i anys d’antiguitat dels empleats que tenen una antiguitat superior o igual a 20 anys a l’empresa.

28. Crea una consulta per mostrar el cognom i salari de tots els empleats que guanyen més de 10.000 a l’any. Dona format al camp salari per a que tingui 15 caràcters de longitud, omplint per l’esquerra amb $. Etiqueta la columna com a salari.

29. Mostra el cognom, salari i percentatge de comissió dels empleats. Afegeix una nova columna en que si un empleat no té assignada comissió, posi "SenseComissió". Etiqueta la columna amb nom "no_comissio"

30. Mostra el cognom, salari i utilitzant la funció CASE, mostra el següent en
funció del valor del salari
  - Si el salari està entre 0 i 3000 -> "Mig"
  - Si el salari està entre 12000 i 24000 -> "Alt"
  - Qualsevol altre valor posa "Altres"
  - Anomena la columna com a "poder_adquisitiu" i ordena per salari de menor a major

26. Llista el codi dels departaments dels empleats que apareixen a la taula empleats.

27. Partint de la consulta anterior elimina els codis de departament repetits.

28. Calcula el nombre d'empleats que **no tenen** comissió assignada.
